# DevOps Project

The E-commerce is an application that manages an e-commerce inventory. It's a Frontend/Backend application with basic CRUD features, developed using Angular, NodeJS, and it interrogates a MongoDB database.

You can access the website [here](http://20.74.91.231:3333/).
 
![website](https://user-images.githubusercontent.com/62222721/212938770-9c94727c-3bce-48af-959d-4ec2a523fdda.png)

# Observability
## 1. Logging
I used winston on nodejs to enable logging those are the logs generated by app
![datadog](https://user-images.githubusercontent.com/62222721/212915963-c9028889-64c7-4e95-b9b0-d3f797292eca.png)
I made sure to add the request_id and the ip_address in every log so that it can help us while debugging.
![log-example](https://user-images.githubusercontent.com/62222721/212916467-9baa21ce-f037-4521-a6e5-1992d13c148b.png)


## 2. Metrics
I used prom-client to configure metrics in my application. 

![prometheus-target](https://user-images.githubusercontent.com/62222721/212918143-034e6190-fd7f-4928-bd70-8ea7b831053f.png)

here `request_total` metric

![prometheus-01](https://user-images.githubusercontent.com/62222721/212917358-a4409092-d322-4e7b-b732-da0e12803836.png)

and this is my business logic metric `number_product_per_category` :

![prometheus-02](https://user-images.githubusercontent.com/62222721/212917727-4d4716c6-c4d5-4e34-8f34-6a11f5c0c74c.png)

finally, we can visualize the dashboard on Grafana. 

![grafana](https://user-images.githubusercontent.com/62222721/212930787-3fea16cb-62b5-4821-be2d-8d15439cb8a9.png)


# Automation
I used Terraform to build 2 microstacks:

- **First Stack** : Kubernetes Cluster : here I provisioned an AKS cluster, and created resource group where the AKS will be provisioned.

- **Second Stack** : Where I created a setup for our webapp using Kubernetes provider as well as Helm provider.


# Deployment
We will be building both Back and Front using Docker then we will use Kubernetes in the deployment.

This is the deployment architecture:

![Infrastructure](https://user-images.githubusercontent.com/62222721/212937857-5371ab3e-049c-4121-9753-cf27f8496ba6.png)





